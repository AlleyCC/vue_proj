{"ast":null,"code":"import modalMixin from '@/mixins/modalMixin';\nexport default {\n  props: {\n    coupon: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      modal: '',\n      tempCoupon: {}\n    };\n  },\n  methods: {\n    updateCoupon() {\n      // convert date to timestamp format\n      const date = this.tempCoupon.due_date;\n      this.tempCoupon.due_date = Math.floor(date.getTime() / 1000);\n      // convert enabled param to boolean\n      this.tempCoupon.is_enabled = JSON.parse(this.tempCoupon.is_enabled);\n      this.$emit('update-coupon', this.tempCoupon);\n    }\n  },\n  watch: {\n    coupon() {\n      this.tempCoupon = this.coupon;\n    },\n    selectedDueDate() {\n      const date = new Date(this.tempCoupon.due_date);\n      console.log('date:', date);\n      console.log('getime:', date.get);\n      this.tempCoupon.due_date = Math.floor(date.getTime() / 1000);\n      console.log(this.tempCoupon);\n    },\n    isEnabled() {\n      this.tempCoupon.is_enabled = JSON.parse(this.tempCoupon.is_enabled);\n    }\n  },\n  mixins: [modalMixin]\n};","map":{"version":3,"names":["modalMixin","props","coupon","type","Object","required","data","modal","tempCoupon","methods","updateCoupon","date","due_date","Math","floor","getTime","is_enabled","JSON","parse","$emit","watch","selectedDueDate","Date","console","log","get","isEnabled","mixins"],"sources":["C:\\Users\\yifan\\Desktop\\homework\\vuejs\\alley-vueproj\\src\\components\\CouponModal.vue"],"sourcesContent":["<template>\n<div class=\"modal fade\" id=\"couponModal\" tabindex=\"-1\" role=\"dialog\"\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n          <button type=\"button\" class=\"btn-close\"\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"mb-3\">\n            <label for=\"title\">標題\n              <input type=\"text\" class=\"form-control\" id=\"title\"\n                   placeholder=\"請輸入標題\" v-model=\"tempCoupon.title\">\n            </label>\n\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"coupon_code\">優惠碼\n              <input type=\"text\" class=\"form-control\" id=\"coupon_code\"\n                   placeholder=\"請輸入優惠碼\" v-model=\"tempCoupon.code\">\n            </label>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"due_date\">到期日\n              <input type=\"date\" class=\"form-control\" id=\"due_date\"\n              v-model.number=\"selectedDueDate\">\n            </label>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"price\">折扣百分比\n              <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入折扣百分比\"\n              v-model=\"tempCoupon.percent\">\n            </label>\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"is_enabled\">\n\n              <input class=\"form-check-input\" type=\"checkbox\" id=\"is_enabled\"\n              v-model=\"isEnabled\">\n              是否啟用</label>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          <button type=\"button\" class=\"btn btn-primary\"\n          @click=\"updateCoupon\">更新優惠券\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    coupon: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      tempCoupon: {},\n    };\n  },\n  methods: {\n    updateCoupon() {\n      // convert date to timestamp format\n      const date = this.tempCoupon.due_date;\n      this.tempCoupon.due_date = Math.floor(date.getTime() / 1000);\n      // convert enabled param to boolean\n      this.tempCoupon.is_enabled = JSON.parse(this.tempCoupon.is_enabled);\n      this.$emit('update-coupon', this.tempCoupon);\n    },\n  },\n  watch: {\n    coupon() {\n      this.tempCoupon = this.coupon;\n    },\n    selectedDueDate() {\n      const date = new Date(this.tempCoupon.due_date);\n      console.log('date:',date)\n      console.log('getime:',date.get)\n      this.tempCoupon.due_date = Math.floor(date.getTime() / 1000);\n      console.log(this.tempCoupon);\n    },\n    isEnabled() {\n      this.tempCoupon.is_enabled = JSON.parse(this.tempCoupon.is_enabled);\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n"],"mappings":"AA0DA,OAAOA,UAAS,MAAO,qBAAqB;AAE5C,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,CAAC;IACf,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb;MACA,MAAMC,IAAG,GAAI,IAAI,CAACH,UAAU,CAACI,QAAQ;MACrC,IAAI,CAACJ,UAAU,CAACI,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,IAAI,IAAI,CAAC;MAC5D;MACA,IAAI,CAACP,UAAU,CAACQ,UAAS,GAAIC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACV,UAAU,CAACQ,UAAU,CAAC;MACnE,IAAI,CAACG,KAAK,CAAC,eAAe,EAAE,IAAI,CAACX,UAAU,CAAC;IAC9C;EACF,CAAC;EACDY,KAAK,EAAE;IACLlB,MAAMA,CAAA,EAAG;MACP,IAAI,CAACM,UAAS,GAAI,IAAI,CAACN,MAAM;IAC/B,CAAC;IACDmB,eAAeA,CAAA,EAAG;MAChB,MAAMV,IAAG,GAAI,IAAIW,IAAI,CAAC,IAAI,CAACd,UAAU,CAACI,QAAQ,CAAC;MAC/CW,OAAO,CAACC,GAAG,CAAC,OAAO,EAACb,IAAI;MACxBY,OAAO,CAACC,GAAG,CAAC,SAAS,EAACb,IAAI,CAACc,GAAG;MAC9B,IAAI,CAACjB,UAAU,CAACI,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,IAAI,IAAI,CAAC;MAC5DQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,UAAU,CAAC;IAC9B,CAAC;IACDkB,SAASA,CAAA,EAAG;MACV,IAAI,CAAClB,UAAU,CAACQ,UAAS,GAAIC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACV,UAAU,CAACQ,UAAU,CAAC;IACrE;EACF,CAAC;EACDW,MAAM,EAAE,CAAC3B,UAAU;AACrB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}